# 14-2 上课计划     

---


## 1 回忆上节课内容  
### 1.1 杂事  
1. 昨天的练习试题整理了一下发到群里了      
2. 大家平时多练习，题目是做不完的，但是你不做肯定是不行的     
3. 考试时间是：周五(12月6日)下午16:35—18:05   
4. 考试题型及范围：选择5个题    10分   填空10个空   20分    综合题5个     70分  范围：主要是5、6两章（图就考一个遍历的题目）    
5. 如果想考高分，就针对性做些练习       


### 1.2 上节课总结    
[Class13-2](../course-summary/Class13-2-20191128.txt)      
```
1. 有向图、无向图、顶点、弧(边)、权、网、度、入度、出度、路径、生成树   （理解）     
2. 图的存储——多重链表                                              （了解）   
3. 图的存储——数组表示法（邻接矩阵）                       （理解、掌握、实现）   
4. 图的存储——邻接表                                     （理解、掌握、实现）  
5. 图的存储——十字链表                                              （理解）   
```

---

## 2 图       
### 2.1 邻接表    
[ALGraph-静态-顺序-引用](../../05_data-structure-code/7-图/03-Algorithm-algraph-(动态-顺序-链式-引用).cpp)      
[ALGraph-静态-顺序-指针](../../05_data-structure-code/7-图/04-Algorithm-algraph-(动态-顺序-链式-指针).c)   
>特点：   
>1. 若无向图中有 n 个顶点、e 条边，则其邻接表需 n 个头结点和 2e 个表结点。适宜存储稀疏图。   
>2. 无向图中顶点 vi 的度为第 i 个单链表中的结点数。   
>3. 对于有向图，找出度容易，找入度难   


>图的邻接表表示法存储结构    
```C
#define MAX_VERTEX_NUM  20
#define InfoType        int	//该弧相关信息的指针（假设信息是整数，因此用int类型）
#define VertexType      char	//顶点类型（假设每个顶点是一个字符表示）

typedef enum {
    DG,DN,UDG,UDN			//有向图，有向网，无向图，无向网
}GraphKind;		

typedef struct ArcNode {    //表结点类型
    int adjvex;				//该弧指向顶点位置 0,1,2,3...
    //这个位置指的是邻接的顶点在表头数组中的位置
    struct ArcNode * nextarc;	//指向下一条弧的指针
    InfoType *info;				//该弧相关信息的指针
}ArcNode;

typedef struct VNode {  //头结点类型
    VertexType data;	//顶点信息（VertexType实际上是顶点类型）
    ArcNode *firstarc;	//指向第一条依附该顶点的弧的指针
}VNode, AdjList[MAX_VERTEX_NUM];

typedef struct	{	    //邻接表类型
    AdjList vertices;	
    int vexnum;	//图的顶点数
    int arcnum;	//图的弧数
    GraphKind kind;			//图的类型标志
}ALGraph;
```
**邻接表的画法，尤其对于带权值的邻接表**   


### 2.2 图的遍历     

从图的任意指定顶点出发，依照某种规则去访问图中所有顶点，且每个顶点仅被访问一次，这一过程叫做图的遍历。   
图的遍历按照深度优先和广度优先规则去实施，通常有**深度优先遍历法（Depth_First Search——DFS ）**和** 广度优先遍历法（ Breadth_Frist Search——BFS）**两种。   

#### 2.2.1 深度优先遍历（DFS）    
>步骤：    
>1. 访问指定的起始顶点；   
>  2、若当前访问的顶点的邻接顶点有未被访问的，则任选 一个访问之，转2；反之，退回到最近访问过的顶点；直到与起始顶点相通的全部顶点都访问完毕；    
>  3、若此时图中尚有顶点未被访问，则再选其中一个顶点作为起始顶点并访问之，转 2； 反之，遍历结束。    

连通图的深度优先遍历类似于树的先根遍历    


#### 2.2.2 广度优先遍历（BFS）    
>步骤：   
>方法：从图的某一结点出发，首先依次访问该结点的所有邻接顶点 Vi1, Vi2, …, Vin 再按这些顶点被访问的先后次序依次访问与它们相邻接的所有未被访问的顶点，重复此过程，直至所有顶点均被访问为止。    



### 2.3 最小生成树    
最小生成树：给定一个无向网络，在该网的所有生成树中，使得各边权数之和最小的那棵生成树称为该网的最小生成树，也叫最小代价生成树。   
**MST 性质**：设 N = (V, E)  是一个连通网，U 是顶点集 V的一个非空子集。若边 (u, v) 是一条具有最小权值的边，其中u∈U，v∈V-U，则必存在一棵包含边 (u, v) 的最小生成树。   

>普里姆 (Prim) 算法:    
>1. 设 N=(V, E) 是连通网，TE 是N 上最小生成树中边的集合。    
>2. 初始令 U={u0}, (u0V ), TE={ }。    
>3. 在所有 uU, vV-U 的边 (u, v)E 中，找一条代价最小的边 (u0, v0)。    
>4. 将 (u0, v0) 并入集合 TE，同时 v0 并入 U。    
>5. 重复上述操作直至 U=V 为止，则 T=(V, TE) 为 N 的最小生成树。  


>克鲁斯卡尔 (Kruskal) 算法:   
>1. 设连通网  N = (V, E )，令最小生成树初状态为只有 n 个顶点而无边的非连通图 T=(V, { })，每个顶点自成一个连通分量。   
>2. 在 E 中选取代价最小的边，若该边依附的顶点落在 T 中不同的连通分量上（即：不能形成环），则将此边加入到 T 中；否则，舍去此边，选取下一条代价最小的边。   
>3. 依此类推，直至 T 中所有顶点都在同一连通分量上为止。   

最小生成树 可能不惟一   

### 2.4 有向无环图及其应用   
有向无环图：无环的有向图，简称 DAG (Directed Acycline Graph) 图。   
### 2.5 拓扑排序     
用一个有向图表示一个工程的各子工程及其相互制约的关系，其中以顶点表示活动，弧表示活动之间的优先制约关系，称这种有向图为顶点表示活动的网，简称AOV (Activity On  Vertex network)网。   

>AOV 网的特点：   
>- 若从 i 到 j 有一条有向路径，则 i 是 j 的前驱；j 是 i 的后继。   
>- 若 < i , j > 是网中有向边，则 i 是  j 的直接前驱； j 是 i 的直接后继。  
>- AOV 网中不允许有回路，因为如果有回路存在，则表明某项活动以自己为先决条件，显然这是荒谬的。   

**拓扑排序**:若在 AOV 网没有回路的前提下，我们将全部活动排列成一个线性序列，使得若 AOV 网中有弧 <i,  j> 存在，则在这个序列中， i  一定排在  j 的前面，具有这种性质的线性序列称为拓扑有序序列，相应的拓扑有序排序的算法称为拓扑排序。   

>拓扑排序：   
>1. 在有向图中选一个没有前驱的顶点且输出之。    
>2. 从图中删除该顶点和所有以它为尾的弧。   
>3. 重复上述两步，直至全部顶点均已输出；或者当图中存在无前驱的顶点为止。   
>


### 2.6 关键路径   
- 关键路径 — 路径长度最长的路径   
- 路径长度 — 路径上各活动持续时间之和。    
- ve(j) — 表示事件 vj 的最早发生时间。  
- vl(j) — 表示事件 vj 的最迟发生时间。   
- e(i) — 表示活动 ai 的最早开始时间。   
- l(i) — 表示活动 ai 的最迟开始时间。   
- l(i) - e(i) — 表示完成活动 ai 的时间余量。   

关键活动 — 关键路径上的活动，即 l(i) = e(i) 的活动。 

>名称解释：  
1. 事件的最早发生时间，决定了以该事件为尾的弧表示的活动最早开始时间。   
2. 最迟：Latest     最早：Earliest       
3. **最迟发生时间是在不推迟整个工程完成的前提下**，活动 ai 最迟必须开始的时间     
4. 关键活动是没有时间弹性的活动,如果延误了，整个工程就延误了，如果加快了，那么整个工程就加快了     从v1-v9最长路径长度是18  

>讲解过程：  
1. 以v5为例最早开始时间：v5最早开始时间是所有以v5为弧头的弧的集合中最大值，因为最早开始时间要保证前面所有活动都进行完了，才能进行v5   
2. 以v5为例最晚开始时间：v5最晚开始时间是所有以v5为弧尾的弧的集合中最小值，因为从截止日期递推，v5时间有：第7天开始和第8天开始两种情况，若在第8天开始，有个工期不能在18天内完成，所以采用第7天，采取最小值       
3. 递推的次序问题？ 拓扑排序：从第一个没有前驱顶点开始      

>关键路径的求法：    
1. `ve(j)`: MAX   `vl(j)`: MIN    
2.  `e(i) = ve(j)`       `l(i) = vl(k) - dut(<j, k>)`  
3.  关键路径：`l(i) - e(i) == 0`   

>关键路径的特点：    
1. 若网中有几条关键路径，则需加快同时在几条关键路径上的关键活动。 如：a11、a10、a8、a7。    
2. 如果一个活动处于所有的关键路径上，则提高这个活动的速度，就能缩短整个工程的完成时间。如：a1、a4。    
3. 处于所有关键路径上的活动完成时间不能缩短太多，否则会使原关键路径变成非关键路径。这时必须重新寻找关键路径。如：a1由 6 天变成 3 天，就会改变关键路径。    

---

## 5 课下作业        
1. 雪梨作业任务7   
2. 把第6章的PPT后面习题做一下       
3. 把Huffman编码和译码实现一下    
4. 压缩和解压缩也实现一下   

---












