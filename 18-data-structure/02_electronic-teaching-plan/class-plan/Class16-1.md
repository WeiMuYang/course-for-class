# 16-1 上课计划     

---

## 1 回忆上节课内容  
### 1.1 杂事  
1. 小测已经结束   
2. 期末复习准备，期末考试试卷题型   
3. 数据结构大作业        
4. 需不需要讲下试卷，及最短路径的实现     
5. 说下雪梨任务的做法    


### 1.2 上节课总结    
[Class15-2](../course-summary/Class14-2-20191205.txt)      
```
## 15-1-20191212                                    
1. B-树：定义（5个特性）、特点（平衡、多路、查找）、查找   （理解、掌握）          
2. B-树：插入、删除                                  （了解）          
3. 哈希表的概念及定义 （为什么引入哈希表、哈希函数、哈希地址、找手机） （理解、掌握）    
4. 哈希表的查找：尽量少的冲突、让哈希地址均匀的分布在地址空间    （理解、掌握）    
```

---

## 2 构造哈希函数     
尽可能地使任意一组关键字的**哈希地址均匀地分布**在整个地址空间中   
>对数字关键字可有下列构造方法：    
1. 直接定址法    
2. 数字分析法    
3. 平方取中法   
4. 折叠法    
5. 除留余数法    
6. 随机数法    
若是**非数字关键字**，则需先对其进行数字化处理。     


### 2.1 直接定址法    
- 哈希函数为关键字的线性函数    


### 2.2 数字分析法（数字选择法）      
- 取关键字的若干位或其组合作哈希地址。   


### 2.3 平方取中法（较常用） 
- 以关键字的平方值的中间几位作为哈希地址。    

### 2.4 折叠法   
- 将关键字分割成位数相同的几部分，然后取这几部分的叠加和（舍去进位）做哈希地址。  
- 移位叠加：将分割后的每一部分最低位对齐，然后相加      
- 间界折叠：是从一端向另一端沿着分割线来回折叠，然后对齐相加    
  
### 2.5 除留余数法（最常用）   
- 取关键字被某个不大于哈希表表长 m 的数 p 除后所得余数作哈希地址，即 H(key) = key MOD p，  p ≤ m。     
- **众人经验：**  p 应为不大于 m 的质数或不含 20 以下的质因子的合数。    


### 2.6 随机数法     
- 取关键字的随机函数值作哈希地址     

**总的原则**是使产生冲突的可能性降到尽可能地小。   
选取哈希函数，考虑以下因素：   
1. 计算哈希函数所需时间  
2. 关键字长度  
3. 哈希表长度（哈希地址范围）   
4. 关键字分布情况  
5. 记录的查找频率  

## 3 处理冲突的方法    
### 3.1 开放定址法    
当发生冲突时，在冲突位置的前后附近寻找可以存放记录的空闲单元。用此法解决冲突，要产生一个探测序列，沿着此序列去寻找可以存放记录的空闲单元。最简单的探测序列产生方法是进行线性探测，即当发生冲突时，从发生冲突的存储位置的下一个存储位置开始依次顺序探测空闲单元。  

### 3.2 再哈希法     
再次采用哈希函数    
### 3.3 溢出区法    
放到溢出区    
### 3.4 链地址法     
放到结点后面    

## 4 内部排序    
### 4.1 排序相关概念   
1. 排序：是计算机程序设计中的一种重要操作，它的功能是将一个数据元素（或记录）的任意序列，重新排列成一个按关键字有序的序列。  
注意：我们排序的是记录而非关键字，关键字只是排序的依据。但是我们为了讲课的方便，举例时可能只涉及到仅包含关键字的记录。   
2. 内部排序: 指的是待排序记录存放在计算机随机存储器中进行的排序过程。而外部排序指的是当排序记录的数量很大，以致内存一次不能容纳全部记录，在排序过程中尚需对外存进行访问的排序过程。  
3. 排序的稳定性：如果两记录Ri与Rj的关键字相同，在排序前Ri在Rj的前面，排序之后， Ri依然在Rj之前，我们称这种排序方法是稳定的，反之，是不稳定的。    


### 4.2 插入排序    
>[直接插入](../../05_data-structure-code/9-排序/01-直接插入排序.cpp)        
1. 在 R[1 .. i -1] 中查找 R[i] 的插入位置，R[1 .. j].key ≤  R[i].key < R[ j+1 .. i -1].key；    
2. 将 R[ j+1 .. i -1] 中的所有记录均后移一个位置；    
3. 将 R[i] 插入（复制）到 R[ j+1] 的位置上。   

>[折半插入](../../05_data-structure-code/9-排序/02-折半插入排序.cpp)        
1. 在 R[1 .. i -1] 中查找 R[i] 的插入位置，R[1 .. j].key ≤  R[i].key < R[ j+1 .. i -1].key；（折半查找方式找）    
2. 将 R[ j+1 .. i -1] 中的所有记录均后移一个位置；    
3. 将 R[i] 插入（复制）到 R[ j+1] 的位置上。   

>[希尔排序](../../05_data-structure-code/9-排序/03-希尔排序.cpp)        
1. 先取一个正整数 d1 < n，把所有相隔 d1 的记录放在一组内，组内进行直接插入排序；   
2. 然后取 d2 < d1，重复上述分组和排序操作；   
3. 直至 di = 1，所有记录放进一个组中排序为止。    

排序方法|平均时间复杂度|最坏时间复杂度|空间复杂度|稳定性
-|-|-|-|-
直接插入|$ O(n^2) $|$ O(n^2) $|O(1)|稳定
折半插入|$ O(n^2) $|$ O(n^2) $|O(1)|稳定
希尔排序|$ O(n^{1+k})(0<k<1) $|$ O(n^{1+k})(0<k<1) $|O(1)|不稳定


### 4.3 交换排序   

>[起泡排序](../../05_data-structure-code/9-排序/04-起泡排序.cpp)        
>1. i从1到n-1，依次循环 ，若上次交换过，则循环下面2步：    
>2. 先将change置零，循环从1到n-i，循环下面1步：    
>3. 若第j+1项小于第j项，那么进行交换，change置一   。      

>[快速排序](../../05_data-structure-code/9-排序/05-快速排序.cpp)     
1. 递归调用QSort函数，每次选择区间为上一次的数据一分为二的位置 （最好情况是1/2），在该区间内循环下面5步：    
2. 调用Partition函数，即将第0号的值作为枢轴，若low小于high循环下面2步：   
3. 若`L.r[high].key >= pivotkey`，则high一直自减   
4. 否则将high对应的值赋值给low对应的值      
5. 然后若`L.r[low].key <= pivotkey`，则low一直自增     
6. 否则将low对应的值赋值给high对应的值    

排序方法|平均时间复杂度|最坏时间复杂度|空间复杂度|稳定性
-|-|-|-|-
起泡排序|$ O(n^2) $|$ O(n^2) $|O(1)|稳定
快速排序|$ O(nlogn) $|$ O(n^2) $|O(logn)|不稳定


### 4.4 选择排序   
>[简单选择](../../05_data-structure-code/9-排序/06-简单选择排序.cpp)   
1. 首先通过 n –1 次关键字比较，从 n 个记录中找出关键字最小的记录，将它与第一个记录交换。     
2. 再通过 n –2 次比较，从剩余的 n –1 个记录中找出关键字次小的记录，将它与第二个记录交换。    
3. 重复上述操作，共进行 n –1 趟排序后，排序结束。     

































---

## 4 课下作业        
1. 雪梨作业任务7   
2. 把第6章的PPT后面习题做一下       
3. 把Huffman编码和译码实现一下    
4. 压缩和解压缩也实现一下   

---












