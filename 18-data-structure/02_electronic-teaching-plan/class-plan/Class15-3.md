# 15-3 上课计划     

---


## 1 回忆上节课内容  
### 1.1 杂事  
1. 小测已经结束   
2. 期末复习准备，期末考试试卷题型   
3. 数据结构大作业        
4. 需不需要讲下试卷，及最短路径的实现     
5. 说下雪梨任务的做法    


### 1.2 上节课总结    
[Class14-2](../course-summary/Class14-2-20191205.txt)      
```
## 15-1-20191210                                    
1. 顺序查找——算法描述、ASL计算、性能分析  （n+1）/2  （理解、掌握、实现）         
2. 折半查找——算法描述、ASL计算、性能分析log(n+1)-1    （理解、掌握、实现）     
3. 索引查找——算法描述、ASL计算、性能分析  (均分成 b 块，每块含 s) （理解、掌握）    
4. 二叉排序树——概念、查找、插入、生成、删除  深度、顺序查找 （理解、掌握）    
5. 平衡二叉树AVL ——概念   平衡因子                     （理解、掌握）   
6. 平衡二叉树——平衡旋转                                 （了解）   
```

---

## 2 查找表    
### 2.1 B-树   
>一棵 m 阶的 B- 树，或为空树或为满足下列特性的 m 叉树：    
1. 树中每个结点至多有 m 棵子树；    
2. 若根结点不是叶子结点，则至少有两棵子树；    
3. 除根之外的所有非终端结点至少有$  \lceil  m/2 \rceil  $ 棵子树；    
4. 所有的非终端结点的结构为：（n, A0, K1, A1, K2, A2, …, Kn, An） 其中，Ki ( i = 1, …, n ) 为按升序排列的关键字； Ai  (i = 0, …, n) 为指向子树 根结点的指针，且 Ai-1 所指子树中所有结点的关键字均小于 ki，An 所指子树中所有结点的关键字均大于 kn，n ( 对于根结点 1≤n≤m – 1,  对于其它结点$ \lceil m/2 \rceil – 1≤ n ≤ m – 1) $ 为关键字的个数（或 n +1 为子树个数）。    
5. 所有叶子结点在同一个层次上，且不含有任何信息。（可 以看作是外部结点或查找失败的结点，实际上这些结点不 存在，指向这些结点的指针为空）。     


>B-树的特点：    
>>1.平衡     
-  树中所有叶子结点均不带信息且在树的同一层次上   
- 根结点或为叶子结点，或至少含有两个子树   
- 所有非叶子结点均含有n$  \lceil m/2 \rceil \le n \le m  $颗子树    

>>2.多路       
在 m 阶的 B- 树上，每个非终端结点可能含有：      
- n 个关键字 Ki（1≤i≤n）n < m    
- n 个指向记录的指针 Di（1≤i≤n）   
- n+1 个指向子树的指针 Ai（0≤i≤n）    

>>3.查找   
- 非叶子结点中的多个关键字均自小至大有序排列；    
- Ai -1 所指子树上所有关键字均小于 Ki  ；   
- Ai 所指子树上所有关键字均大于 Ki  。    



>B-树的查找：     
>1. 从根结点出发，沿指针搜索结点和在结点内进行顺序（或折半）查找两个过程交叉进行。    
>2. 若查找成功，则返回指向被查关键字所在结点的指针和关键字在结点中的位置；   
>3. 若查找不成功，则返回插入位置。    

>B-树的插入：     
1. 若该结点的关键字个数不超过m-1，则插入完成；    
>2. 否则，若该结点的关键字个数已达到m个，这与B-树定义不符，将引起结点的“分裂”。   
>>将结点中关键字分三部分：若m为偶数，则前面为等于    后面为大于   中间一个关键字     


>B-树的删除：  
>1. 删除最底层的某个非终端结点中的关键字   
>>如果被删关键字所在的节点中的关键字数目不小于$  \lceil m/2 \rceil $，则只须从该结点中删除该关键字，删除完成，否则要进行“合并”结点的操作。可以按照下列两种情况进行处理：
>>找兄弟借：兄弟结点中的最小（或最大）的关键字上移至双亲结点中，而将双亲结点中小于（或大于）且紧靠该上移关键字的关键字下移至被删关键字所在结点。      
>>兄弟借不到：在删除关键字之后，他所在结点中剩余的关键字和指针，加上双亲结点中的关键字ki一起合并到Ai所指的兄弟结点中（若没有右兄弟，则合并到左兄弟中）   

>2. 删除非最底层结点的关键字   
>>若删除非底层结点中的关键字Ki，则可以指针Ai所指子树中的最小关键字X替代Ki，这个X在最底层结点上，然后，再删除关键字X，即转为第一种情形。     


## 3 哈希表   
- 以上讨论的表示查找表的各种结构的共同特点：记录在表中的位置和它的关键字之间不存在一个确定的关系。    
- **查找过程：**给定值依次和关键字集合中各关键字进行比较。   
- 不同的表示方法和查找策略，其差别在于：1)、关键字和给定值进行比较的顺序(过程)不同。2)、比较的结果不同：顺序查找有两种可能——“=”与“≠”；其他查找有三种可能——“<”、“=”、“>”。     
- **查找的效率**取决于和给定值进行比较的关键字个数。    
- 用这类方法表示的查找表，其**平均查找长度都不为零**。   
对于频繁使用的查找表，希望  ASL = 0。    

记录的关键字与记录在表中的存储位置之间存在一种对应（函数）关系。若记录的关键字为  key，记录在表中的位置（称为哈希地址）为  f (key)，则称此函数  f (x) 为**哈希函数（散列函数）**。 根据设定的哈希函数H(key)和所选中的处理冲突的方法建立的**查找表**。其基本思想是：以记录的关键字为自变量，根据哈希函数，计算出对应的哈希地址，并在此存储该记录的内容。    
这一映像过程称为**哈希造表或散列**。    
当对记录进行查找时，再根据给定的关键字，用同一个哈希函数计算出给定关键字对应的存储地址（通常还会进行确认比较），随后进行访问。所以哈希表既是一种存储形式，又是一种查找方法，通常将这种查找方法称为**哈希查找**。    

>对数字关键字可有下列构造方法：    
1. 直接定址法    
2. 数字分析法    
3. 平方取中法   
4. 折叠法    
5. 除留余数法    
6. 随机数法    
若是**非数字关键字**，则需先对其进行数字化处理。     


### 3.1 直接定址法    
- 哈希函数为关键字的线性函数    


### 3.2 数字分析法（数字选择法）      
- 取关键字的若干位或其组合作哈希地址。   


### 3.3 平方取中法（较常用） 
- 以关键字的平方值的中间几位作为哈希地址。    

### 3.4 折叠法   
- 将关键字分割成位数相同的几部分，然后取这几部分的叠加和（舍去进位）做哈希地址。  
- 移位叠加：将分割后的每一部分最低位对齐，然后相加      
- 间界折叠：是从一端向另一端沿着分割线来回折叠，然后对齐相加    
  
### 3.5 除留余数法（最常用）   
- 取关键字被某个不大于哈希表表长 m 的数 p 除后所得余数作哈希地址，即 H(key) = key MOD p，  p ≤ m。     
- **众人经验：**  p 应为不大于 m 的质数或不含 20 以下的质因子的合数。    


### 3.6 随机数法     
- 取关键字的随机函数值作哈希地址     

**总的原则**是使产生冲突的可能性降到尽可能地小。   
选取哈希函数，考虑以下因素：   
1. 计算哈希函数所需时间  
2. 关键字长度  
3. 哈希表长度（哈希地址范围）   
4. 关键字分布情况  
5. 记录的查找频率  

## 4 处理冲突的方法    
### 4.1 开放定址法    
当发生冲突时，在冲突位置的前后附近寻找可以存放记录的空闲单元。用此法解决冲突，要产生一个探测序列，沿着此序列去寻找可以存放记录的空闲单元。最简单的探测序列产生方法是进行线性探测，即当发生冲突时，从发生冲突的存储位置的下一个存储位置开始依次顺序探测空闲单元。  


### 4.2 再哈希法     


### 4.3 溢出区法    

### 4.4 链地址法     





























---

## 4 课下作业        
1. 雪梨作业任务7   
2. 把第6章的PPT后面习题做一下       
3. 把Huffman编码和译码实现一下    
4. 压缩和解压缩也实现一下   

---












