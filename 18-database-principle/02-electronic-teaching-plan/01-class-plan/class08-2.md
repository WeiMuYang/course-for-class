# 08-2 上课计划  
---
## 1 回顾上节课  
---
```08-1
## 08-1  
1. 安全性控制概述   
2. 用户的标识与鉴别   
3. 创建登录和用户  
4. 授权与回收  
5. 删除登录和用户  
```
## 2 学生问题   
-   删不了U2(车怡兰)     
    -   重启DBMS  


## 3 本节课内容      
- 数据库角色        
- 强制存取控制     
- 视图机制    
- 审计  
- 数据加密  
### 3.1 数据库角色    
- 数据库角色：被命名的一组与数据库操作相关 的权限   
	- 角色是权限的集合   
	- 可以为一组具有相同权限的用户创建一个角色   
	- 简化授权的过程   

```SQL
-- 创建登录和用户  

-- 创建角色  

-- 给角色授权  

-- 将角色调用存储过程授权给用户  


-- 回收权限  

```

### 3.2 强制存取控制   
- 自主存取控制的缺点   
	- 可能存在数据的“无意泄露”   
	- 原因：这种机制仅仅通过对数据的存取权限来进行安全控制，而数据本身并无安全性标记 - 无房户    
	- 解决：对系统控制下的所有主客体实施强制存取控制策略   
- 强制存取控制 MAC   
	- 保证更高程度的安全性   
	- 用户不能直接感知或进行控制   
	- 适用于对数据有严格而固定密级分类的部门   
	- 军事部门   
	- 政府部门  
- 主体与客体    
	- 在MAC中，DBMS所管理的全部实体被分为主体和客体两大类    
- 主体是系统中的活动实体  
	- DBMS所管理的实际用户  
	- 代表用户的各进程  
- 客体是系统中的被动实体，是受主体操纵的  
	- 文件  
	- 基表  
	- 索引  
	- 视图  
- 敏感度标记（Label）  
	- 对于主体和客体，DBMS为它们每个实例（值）指派一个敏感度标记（Label）  
- 敏感度标记分成若干级别  
	- 绝密（Top Secret）  
	- 机密（Secret）  
	- 可信（Confidential）  
	- 公开（Public）  
- 主体的敏感度标记称为许可证级别（Clearance Level）   
- 客体的敏感度标记称为密级（Classification Level）  
- MAC机制就是通过对比主体的Label和客体的Label，最终确定主体是否能够存取客体  
- 强制存取控制规则   
	- 当某一用户（或某一主体）以标记label注册入系统时，系统要求他对任何客体的存取必须遵循下面两条规则：  
		- 仅当主体的许可证级别大于或等于客体的密级时，该主体才能读取相应的客体；  
		- 仅当主体的许可证级别等于客体的密级时，该主体才能写相应的客体。  
- 修正规则  
	- 主体的许可证级别 <=客体的密级   ->   主体能写客体  
- 规则的共同点  
	- 禁止了拥有高许可证级别的主体更新低密级的数据对象   
- DAC与MAC共同构成DBMS的安全机制   
- 实现MAC时要首先实现DAC   
	- 原因：较高安全性级别提供的安全保护要包含较低级别的所有保护  
- DAC + MAC安全检查示意图  

### 3.3 视图机制  
- 视图机制把要保密的数据对无权存取这些数据的用户隐藏起来，对数据提供一定程度的安全保护  
	- 视图机制更主要的功能在于提供数据独立性，其安全保护功能太不精细，往往远不能达到应用系统的要求。  
	- 间接实现了支持存取谓词的用户权限定义  
```SQL  
-- 建立视图  


-- 将对视图的操作授权  



```

### 3.4 审计  
- 什么是审计
	- 审计日志（Audit Log）   
		- 将用户对数据库的所有操作记录在上面   
	- DBA利用审计日志   
	- 找出非法存取数据的人、时间和内容   
	- C2以上安全级别的DBMS必须具有  

- AUDIT语句：设置审计功能  
- NOAUDIT语句：取消审计功能   

```SQL 
-- 对修改SC表结构或修改SC表数据的操作进行审计。
AUDIT  ALTER，UPDATE   ON  SC； 
-- 取消对SC表的一切审计。  
NOAUDIT  ALTER，UPDATE   ON  SC； 
```

### 3.5 数据加密   
- 数据加密   
	- 防止数据库中数据在存储和传输中失密的有效手段   
- 加密的基本思想   
	- 根据一定的算法将原始数据（术语为明文，Plain text）变换为不可直接识别的格式（术语为密文，Cipher text）  
- 加密方法   
	- 替换方法   
	- 置换方法   
	- 混合方法   
- DBMS中的数据加密  

## 4 课下要求  
1. 周日和周一抽空熟悉题目       
2. 下周一晚上七点，丁蕾蕾老师在2018级大群中直播讲解exercise       




